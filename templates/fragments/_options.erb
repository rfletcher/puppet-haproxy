<% opts = @real_options || @options -%>
<% if opts.is_a?(Hash) -%>
<% opts.sort.each do |key, val| -%>
<% Array(val).each do |item| -%>
  <%= key %> <%= item %>
<% end -%>
<% end -%>
<% elsif opts.is_a?(Array) -%>
<%# Iterate over array elements; each element is a hash (containing key-value -%>
<%# pairs); in case a hash contains more than one key-value pair the hash is -%>
<%# sorted by key name before outputting the key name (= option name) and its -%>
<%# value (or values, one per line) -%>
<% opts.each do |option| -%>
<% option.sort.map do |key, val| -%>
<% Array(val).each do |item| -%>
  <%= key %> <%= item %>
<% end -%>
<% end -%>
<% end -%>
<% end -%>
